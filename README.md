# ecwid-newjob

### Реализация тестового задания "Подсчёт дубликатов IP-адресов"
В коде реализован именно это задание ...

Файл в размере не ограничен и может занимать десятки и сотни гигабайт.
Необходимо посчитать количество __уникальных адресов__ в этом файле, затратив как можно меньше памяти и времени. Существует "наивный" алгоритм решения данной задачи (читаем строка за строкой, кладем строки в HashSet), желательно чтобы ваша реализация была лучше этого простого, наивного алгоритма.

* По хорошему, я бы взял Apache Spark. Загрузил входной поток в
   master-application, и проводил вычисления в кластере воркеров.
   Итоговый результат агрегировал бы снова на мастере.
  Данный подход позволяет распоралелить вычисления на ядрах\процессорах,
   более экономно утилизирует оперативную память и дисковое пространство.
   К тому же, клсатер Spark отказоустойчив, что позволит не прерывать
   работу при падении процесса на одном из воркеров, Spark самостоятельно
   "подымет" инстанс, загрузит реплику данных и процесса, и продолжит
   вычисления.
   
### Реализация тестового задания "собственный ThreadLocal"
В этом тестовом задании я предлагаю вам попробовать сделать именно это – реализовать свой собственный аналог класса ThreadLocal с тремя базовыми методами – `get`, `set` и `remove`. При реализации задания хорошо бы учесть возможные concurrency-проблемы и то, что потоки в JVM могут умирать "без предупреждения".

* Реализация возможна через WeakHashMap, или через внутренний класс, основной элемент которого - потомок WeakReference.
  1. конкурентного доступа не будет, потому как гарантированно только один поток (текущий) будет получать доступ к этому ресурсу.
  2. при падении потока, GC подхватит Weeak-ресурсы.
  
### Реализация тестового задания "SQL-парсер"
Тут просто:
1. выгрузка всего текста запроса в стрим.
2. выделение клауз SELECT, FROM, WHERE, ORDER\GROUP
3. определение лексем в каждой клаузе (для SELECT, FROM и WHERE - рекурсия для подзапросов)
4. итеративно повторяем для UNION\UNION ALL
Так же, можно воспользоваться не набором классов и списков для определения составляющих запроса, а к примеру использовать граф.
